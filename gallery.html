<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Gallery</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    h1 { margin-bottom: 20px; }
    .img-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 15px;
    }
    .img-grid img {
      width: 100%;
      height: auto;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

  <h1 id="title">Gallery</h1>
  <div class="img-grid" id="grid"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const book = params.get("book");

    const titleEl = document.getElementById("title");
    const grid = document.getElementById("grid");

    if (!book) {
      titleEl.innerText = "No book selected.";
    } else {
      titleEl.innerText = book.toUpperCase();
      loadGallery(book);
    }

    function loadGallery(book) {
      // CORRECT PATH INSIDE E:/maths/gallery/
      const folder = "images/" + book + "/";

      for (let i = 1; i <= 999; i++) {
        const n = String(i).padStart(3, "0");
        const img = new Image();
        img.src = folder + n + ".webp";
        img.alt = book + " page " + n;

        img.onload = () => grid.appendChild(img);
      }
    }
  </script>

</body>
</html>
